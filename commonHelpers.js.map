{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport  function fetchImg(userInput) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = '42320783-7d0430ad6756cac4c8b613a39';\n    const PARAMS = `q=${userInput}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const URL = `${BASE_URL}?key=${API_KEY}&${PARAMS}`;\n     \n    return fetch(URL).then(res => {\n        if(!res.ok) {\n            throw new Error(res.status);\n        }\n        return res.json();\n    });\n  }\n\n  ","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { refs } from '../main';\n\nexport  function makeGalleryItem(res) {\n    const result = res.hits.map(makeMarcup).join('');\n  \n    if (res.hits.length) {\n      refs.galleryList.innerHTML = result;\n      let lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    } else {\n      onError();\n    }\n  }\n\n  function makeMarcup(image) {\n    return `<li class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n            <img\n              src=\"${image.webformatURL}\"\n              class=\"gallery-image\"\n              alt=\"${image.tags}\"\n            />\n          </a>\n          <div class=\"modat-text\">\n          \n              <div class=\"modal-element\"><p>Likes</p><span>${image.likes}</span></div>\n              <div class=\"modal-element\"><p>Views</p><span>${image.views}</span></div>\n              <div class=\"modal-element\"><p>Comments</p><span>${image.comments}</span></div>\n              <div class=\"modal-element\"><p>Downloads</p><span>${image.downloads}</span></div>\n          </div>\n        </li>`;\n  }\n    \n    ","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport  './js/pixabay-api';\nimport './js/render-functions';\nimport { makeGalleryItem } from './js/render-functions';\nimport { fetchImg } from './js/pixabay-api';\n\nexport const refs = {\n    userForm: document.querySelector('.user-form'),\n    userInput: document.querySelector('.user-input'),\n    btn: document.querySelector('.form-button'),\n    galleryList: document.querySelector('.gallery'),\n    container: document.querySelector('.container'),\n    loader: document.querySelector('.loader'),\n  };\n\n  refs.userForm.addEventListener('submit', onFormSubmit);\n\n  function onFormSubmit(event) {\n    event.preventDefault();\n    loaderOn();\n    refs.galleryList.innerHTML = '';\n    const userSearch = event.currentTarget.elements.input.value.trim();\n  \n    fetchImg(userSearch).then(makeGalleryItem).catch(onError).finally(loaderOff);\n  \n    refs.userForm.reset();\n  }\n\n  function loaderOn() {\n    refs.loader.classList.remove('hidden');\n  }\n  \n  function loaderOff() {\n    refs.loader.classList.add('hidden');\n  }\n\n  function onError() {\n    const MESSAGE = 'Sorry, there are no images matching your search query. Please try again!';\n\n    iziToast.error({\n    message: MESSAGE,\n    position: 'topRight',\n    });\n}"],"names":["fetchImg","userInput","BASE_URL","API_KEY","PARAMS","URL","res","makeGalleryItem","result","makeMarcup","refs","SimpleLightbox","image","onFormSubmit","event","loaderOn","userSearch","onError","loaderOff","MESSAGE","iziToast"],"mappings":"6vBAKQ,SAASA,EAASC,EAAW,CACjC,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,KAAKH,CAAS,2DACvBI,EAAM,GAAGH,CAAQ,QAAQC,CAAO,IAAIC,CAAM,GAEhD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC1B,GAAG,CAACA,EAAI,GACJ,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACnB,CAAK,CACL,CCJQ,SAASC,EAAgBD,EAAK,CAClC,MAAME,EAASF,EAAI,KAAK,IAAIG,CAAU,EAAE,KAAK,EAAE,EAE3CH,EAAI,KAAK,QACXI,EAAK,YAAY,UAAYF,EACd,IAAIG,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GACtB,CAAO,EACQ,QAAO,GAEhB,SAEH,CAED,SAASF,EAAWG,EAAO,CACzB,MAAO;AAAA,qBACUA,EAAM,aAAa;AAAA;AAAA,qBAEnBA,EAAM,YAAY;AAAA;AAAA,qBAElBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6DAK8BA,EAAM,KAAK;AAAA,6DACXA,EAAM,KAAK;AAAA,gEACRA,EAAM,QAAQ;AAAA,iEACbA,EAAM,SAAS;AAAA;AAAA,cAGhF,CChCO,MAAMF,EAAO,CAChB,SAAU,SAAS,cAAc,YAAY,EAC7C,UAAW,SAAS,cAAc,aAAa,EAC/C,IAAK,SAAS,cAAc,cAAc,EAC1C,YAAa,SAAS,cAAc,UAAU,EAC9C,UAAW,SAAS,cAAc,YAAY,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEEA,EAAK,SAAS,iBAAiB,SAAUG,CAAY,EAErD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBC,IACAL,EAAK,YAAY,UAAY,GAC7B,MAAMM,EAAaF,EAAM,cAAc,SAAS,MAAM,MAAM,OAE5Dd,EAASgB,CAAU,EAAE,KAAKT,CAAe,EAAE,MAAMU,CAAO,EAAE,QAAQC,CAAS,EAE3ER,EAAK,SAAS,OACf,CAED,SAASK,GAAW,CAClBL,EAAK,OAAO,UAAU,OAAO,QAAQ,CACtC,CAED,SAASQ,GAAY,CACnBR,EAAK,OAAO,UAAU,IAAI,QAAQ,CACnC,CAED,SAASO,GAAU,CACjB,MAAME,EAAU,2EAEhBC,EAAS,MAAM,CACf,QAASD,EACT,SAAU,UACd,CAAK,CACL"}